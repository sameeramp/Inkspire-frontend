{"ast":null,"code":"import _regeneratorRuntime from\"/home/sameeramp/Videos/Inkspire-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sameeramp/Videos/Inkspire-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import{register,login,logout}from\"./authService\";// Get user from localStorage\nvar user=JSON.parse(localStorage.getItem(\"user\"));var initialState={user:user?user:null,token:\"\",isError:false,isSuccess:false,isLoading:false,message:\"\"};// Register user\nexport var signup=createAsyncThunk(\"auth/register\",/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(user,thunkAPI){var message;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return register(user);case 3:return _context.abrupt(\"return\",_context.sent);case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);message=_context.t0.response&&_context.t0.response.data&&_context.t0.response.data.message||_context.t0.message||_context.t0.toString();return _context.abrupt(\"return\",thunkAPI.rejectWithValue(message));case 10:case\"end\":return _context.stop();}},_callee,null,[[0,6]]);}));return function(_x,_x2){return _ref.apply(this,arguments);};}());// Login user\nexport var signin=createAsyncThunk(\"auth/login\",/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(user,thunkAPI){var message;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return login(user);case 3:return _context2.abrupt(\"return\",_context2.sent);case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);message=_context2.t0.response&&_context2.t0.response.data&&_context2.t0.response.data.message||_context2.t0.message||_context2.t0.toString();return _context2.abrupt(\"return\",thunkAPI.rejectWithValue(message));case 10:case\"end\":return _context2.stop();}},_callee2,null,[[0,6]]);}));return function(_x3,_x4){return _ref2.apply(this,arguments);};}());export var signout=createAsyncThunk(\"auth/logout\",/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(){return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return logout();case 2:case\"end\":return _context3.stop();}},_callee3);})));export var authSlice=createSlice({name:\"auth\",initialState:initialState,reducers:{reset:function reset(state){state.user=null;state.isError=false;state.isLoading=false;state.isSuccess=false;state.message=\"\";state.token=\"\";},setUser:function setUser(state,_ref4){var payload=_ref4.payload;state.uesr=payload;}},extraReducers:function extraReducers(builder){builder.addCase(signup.pending,function(state){state.isLoading=true;}).addCase(signup.fulfilled,function(state,action){state.isLoading=false;state.isSuccess=true;state.user=action.payload;}).addCase(signup.rejected,function(state,action){state.isLoading=false;state.isError=true;state.message=action.payload;state.user=null;}).addCase(signin.pending,function(state){state.isLoading=true;}).addCase(signin.fulfilled,function(state,action){state.isLoading=false;state.isSuccess=true;state.user=action.payload;state.token=user;}).addCase(signin.rejected,function(state,action){state.isLoading=false;state.isError=true;state.message=action.payload;state.user=null;}).addCase(signout.fulfilled,function(state){state.user=null;state.token=\"\";});}});var _authSlice$actions=authSlice.actions,reset=_authSlice$actions.reset,setUser=_authSlice$actions.setUser;export{reset,setUser};export default authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","register","login","logout","user","JSON","parse","localStorage","getItem","initialState","token","isError","isSuccess","isLoading","message","signup","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","thunkAPI","wrap","_callee$","_context","prev","next","abrupt","sent","t0","response","data","toString","rejectWithValue","stop","_x","_x2","apply","arguments","signin","_ref2","_callee2","_callee2$","_context2","_x3","_x4","signout","_callee3","_callee3$","_context3","authSlice","name","reducers","reset","state","setUser","_ref4","payload","uesr","extraReducers","builder","addCase","pending","fulfilled","action","rejected","_authSlice$actions","actions","reducer"],"sources":["/home/sameeramp/Videos/Inkspire-frontend/src/features/auth/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nimport { register, login, logout } from \"./authService\";\n\n// Get user from localStorage\nconst user = JSON.parse(localStorage.getItem(\"user\"));\n\nconst initialState = {\n  user: user ? user : null,\n  token: \"\",\n  isError: false,\n  isSuccess: false,\n  isLoading: false,\n  message: \"\",\n};\n\n// Register user\nexport const signup = createAsyncThunk(\n  \"auth/register\",\n  async (user, thunkAPI) => {\n    try {\n      return await register(user);\n    } catch (error) {\n      const message =\n        (error.response &&\n          error.response.data &&\n          error.response.data.message) ||\n        error.message ||\n        error.toString();\n      return thunkAPI.rejectWithValue(message);\n    }\n  }\n);\n\n// Login user\nexport const signin = createAsyncThunk(\"auth/login\", async (user, thunkAPI) => {\n  try {\n    return await login(user);\n  } catch (error) {\n    const message =\n      (error.response && error.response.data && error.response.data.message) ||\n      error.message ||\n      error.toString();\n    return thunkAPI.rejectWithValue(message);\n  }\n});\n\nexport const signout = createAsyncThunk(\"auth/logout\", async () => {\n  await logout();\n});\n\nexport const authSlice = createSlice({\n  name: \"auth\",\n  initialState,\n  reducers: {\n    reset: (state) => {\n      state.user = null;\n      state.isError = false;\n      state.isLoading = false;\n      state.isSuccess = false;\n      state.message = \"\";\n      state.token = \"\";\n    },\n    setUser: (state, { payload }) => {\n      state.uesr = payload;\n    },\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(signup.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(signup.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isSuccess = true;\n        state.user = action.payload;\n      })\n      .addCase(signup.rejected, (state, action) => {\n        state.isLoading = false;\n        state.isError = true;\n        state.message = action.payload;\n        state.user = null;\n      })\n      .addCase(signin.pending, (state) => {\n        state.isLoading = true;\n      })\n      .addCase(signin.fulfilled, (state, action) => {\n        state.isLoading = false;\n        state.isSuccess = true;\n        state.user = action.payload;\n        state.token = user;\n      })\n      .addCase(signin.rejected, (state, action) => {\n        state.isLoading = false;\n        state.isError = true;\n        state.message = action.payload;\n        state.user = null;\n      })\n      .addCase(signout.fulfilled, (state) => {\n        state.user = null;\n        state.token = \"\";\n      });\n  },\n});\n\nexport const { reset, setUser } = authSlice.actions;\nexport default authSlice.reducer;\n"],"mappings":"4QAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAChE,OAASC,QAAQ,CAAEC,KAAK,CAAEC,MAAM,KAAQ,eAAe,CAEvD;AACA,GAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAErD,GAAM,CAAAC,YAAY,CAAG,CACnBL,IAAI,CAAEA,IAAI,CAAGA,IAAI,CAAG,IAAI,CACxBM,KAAK,CAAE,EAAE,CACTC,OAAO,CAAE,KAAK,CACdC,SAAS,CAAE,KAAK,CAChBC,SAAS,CAAE,KAAK,CAChBC,OAAO,CAAE,EACX,CAAC,CAED;AACA,MAAO,IAAM,CAAAC,MAAM,CAAGf,gBAAgB,CACpC,eAAe,6BAAAgB,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CACf,SAAAC,QAAOhB,IAAI,CAAEiB,QAAQ,MAAAP,OAAA,QAAAI,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA,SAEJ,CAAAzB,QAAQ,CAACG,IAAI,CAAC,eAAAoB,QAAA,CAAAG,MAAA,UAAAH,QAAA,CAAAI,IAAA,SAAAJ,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAK,EAAA,CAAAL,QAAA,aAErBV,OAAO,CACVU,QAAA,CAAAK,EAAA,CAAMC,QAAQ,EACbN,QAAA,CAAAK,EAAA,CAAMC,QAAQ,CAACC,IAAI,EACnBP,QAAA,CAAAK,EAAA,CAAMC,QAAQ,CAACC,IAAI,CAACjB,OAAO,EAC7BU,QAAA,CAAAK,EAAA,CAAMf,OAAO,EACbU,QAAA,CAAAK,EAAA,CAAMG,QAAQ,CAAC,CAAC,QAAAR,QAAA,CAAAG,MAAA,UACXN,QAAQ,CAACY,eAAe,CAACnB,OAAO,CAAC,2BAAAU,QAAA,CAAAU,IAAA,MAAAd,OAAA,gBAE3C,mBAAAe,EAAA,CAAAC,GAAA,SAAApB,IAAA,CAAAqB,KAAA,MAAAC,SAAA,OACH,CAAC,CAED;AACA,MAAO,IAAM,CAAAC,MAAM,CAAGvC,gBAAgB,CAAC,YAAY,6BAAAwC,KAAA,CAAAvB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAAsB,SAAOrC,IAAI,CAAEiB,QAAQ,MAAAP,OAAA,QAAAI,mBAAA,GAAAI,IAAA,UAAAoB,UAAAC,SAAA,iBAAAA,SAAA,CAAAlB,IAAA,CAAAkB,SAAA,CAAAjB,IAAA,SAAAiB,SAAA,CAAAlB,IAAA,GAAAkB,SAAA,CAAAjB,IAAA,SAEzD,CAAAxB,KAAK,CAACE,IAAI,CAAC,eAAAuC,SAAA,CAAAhB,MAAA,UAAAgB,SAAA,CAAAf,IAAA,SAAAe,SAAA,CAAAlB,IAAA,GAAAkB,SAAA,CAAAd,EAAA,CAAAc,SAAA,aAElB7B,OAAO,CACV6B,SAAA,CAAAd,EAAA,CAAMC,QAAQ,EAAIa,SAAA,CAAAd,EAAA,CAAMC,QAAQ,CAACC,IAAI,EAAIY,SAAA,CAAAd,EAAA,CAAMC,QAAQ,CAACC,IAAI,CAACjB,OAAO,EACrE6B,SAAA,CAAAd,EAAA,CAAMf,OAAO,EACb6B,SAAA,CAAAd,EAAA,CAAMG,QAAQ,CAAC,CAAC,QAAAW,SAAA,CAAAhB,MAAA,UACXN,QAAQ,CAACY,eAAe,CAACnB,OAAO,CAAC,2BAAA6B,SAAA,CAAAT,IAAA,MAAAO,QAAA,gBAE3C,mBAAAG,GAAA,CAAAC,GAAA,SAAAL,KAAA,CAAAH,KAAA,MAAAC,SAAA,QAAC,CAEF,MAAO,IAAM,CAAAQ,OAAO,CAAG9C,gBAAgB,CAAC,aAAa,cAAAiB,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAE,SAAA4B,SAAA,SAAA7B,mBAAA,GAAAI,IAAA,UAAA0B,UAAAC,SAAA,iBAAAA,SAAA,CAAAxB,IAAA,CAAAwB,SAAA,CAAAvB,IAAA,SAAAuB,SAAA,CAAAvB,IAAA,SAC/C,CAAAvB,MAAM,CAAC,CAAC,yBAAA8C,SAAA,CAAAf,IAAA,MAAAa,QAAA,GACf,GAAC,CAEF,MAAO,IAAM,CAAAG,SAAS,CAAGnD,WAAW,CAAC,CACnCoD,IAAI,CAAE,MAAM,CACZ1C,YAAY,CAAZA,YAAY,CACZ2C,QAAQ,CAAE,CACRC,KAAK,CAAE,SAAAA,MAACC,KAAK,CAAK,CAChBA,KAAK,CAAClD,IAAI,CAAG,IAAI,CACjBkD,KAAK,CAAC3C,OAAO,CAAG,KAAK,CACrB2C,KAAK,CAACzC,SAAS,CAAG,KAAK,CACvByC,KAAK,CAAC1C,SAAS,CAAG,KAAK,CACvB0C,KAAK,CAACxC,OAAO,CAAG,EAAE,CAClBwC,KAAK,CAAC5C,KAAK,CAAG,EAAE,CAClB,CAAC,CACD6C,OAAO,CAAE,SAAAA,QAACD,KAAK,CAAAE,KAAA,CAAkB,IAAd,CAAAC,OAAO,CAAAD,KAAA,CAAPC,OAAO,CACxBH,KAAK,CAACI,IAAI,CAAGD,OAAO,CACtB,CACF,CAAC,CACDE,aAAa,CAAE,SAAAA,cAACC,OAAO,CAAK,CAC1BA,OAAO,CACJC,OAAO,CAAC9C,MAAM,CAAC+C,OAAO,CAAE,SAACR,KAAK,CAAK,CAClCA,KAAK,CAACzC,SAAS,CAAG,IAAI,CACxB,CAAC,CAAC,CACDgD,OAAO,CAAC9C,MAAM,CAACgD,SAAS,CAAE,SAACT,KAAK,CAAEU,MAAM,CAAK,CAC5CV,KAAK,CAACzC,SAAS,CAAG,KAAK,CACvByC,KAAK,CAAC1C,SAAS,CAAG,IAAI,CACtB0C,KAAK,CAAClD,IAAI,CAAG4D,MAAM,CAACP,OAAO,CAC7B,CAAC,CAAC,CACDI,OAAO,CAAC9C,MAAM,CAACkD,QAAQ,CAAE,SAACX,KAAK,CAAEU,MAAM,CAAK,CAC3CV,KAAK,CAACzC,SAAS,CAAG,KAAK,CACvByC,KAAK,CAAC3C,OAAO,CAAG,IAAI,CACpB2C,KAAK,CAACxC,OAAO,CAAGkD,MAAM,CAACP,OAAO,CAC9BH,KAAK,CAAClD,IAAI,CAAG,IAAI,CACnB,CAAC,CAAC,CACDyD,OAAO,CAACtB,MAAM,CAACuB,OAAO,CAAE,SAACR,KAAK,CAAK,CAClCA,KAAK,CAACzC,SAAS,CAAG,IAAI,CACxB,CAAC,CAAC,CACDgD,OAAO,CAACtB,MAAM,CAACwB,SAAS,CAAE,SAACT,KAAK,CAAEU,MAAM,CAAK,CAC5CV,KAAK,CAACzC,SAAS,CAAG,KAAK,CACvByC,KAAK,CAAC1C,SAAS,CAAG,IAAI,CACtB0C,KAAK,CAAClD,IAAI,CAAG4D,MAAM,CAACP,OAAO,CAC3BH,KAAK,CAAC5C,KAAK,CAAGN,IAAI,CACpB,CAAC,CAAC,CACDyD,OAAO,CAACtB,MAAM,CAAC0B,QAAQ,CAAE,SAACX,KAAK,CAAEU,MAAM,CAAK,CAC3CV,KAAK,CAACzC,SAAS,CAAG,KAAK,CACvByC,KAAK,CAAC3C,OAAO,CAAG,IAAI,CACpB2C,KAAK,CAACxC,OAAO,CAAGkD,MAAM,CAACP,OAAO,CAC9BH,KAAK,CAAClD,IAAI,CAAG,IAAI,CACnB,CAAC,CAAC,CACDyD,OAAO,CAACf,OAAO,CAACiB,SAAS,CAAE,SAACT,KAAK,CAAK,CACrCA,KAAK,CAAClD,IAAI,CAAG,IAAI,CACjBkD,KAAK,CAAC5C,KAAK,CAAG,EAAE,CAClB,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEK,IAAAwD,kBAAA,CAA2BhB,SAAS,CAACiB,OAAO,CAApCd,KAAK,CAAAa,kBAAA,CAALb,KAAK,CAAEE,OAAO,CAAAW,kBAAA,CAAPX,OAAO,CAAuB,OAAAF,KAAA,CAAAE,OAAA,EACpD,cAAe,CAAAL,SAAS,CAACkB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}