{"ast":null,"code":"import _regeneratorRuntime from\"/home/sameeramp/Videos/Inkspire-frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/sameeramp/Videos/Inkspire-frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/home/sameeramp/Videos/Inkspire-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{Alert,Dropdown,Footer,Navbar,Spinner}from\"../shared/components\";import\"./Component.scss\";import{BACKEND_BASE_URL,BLOG_URL,FILTERED_BLOGS,MEDIA}from\"../constants\";import{setOption}from\"../../features/navbar/navbarSlice\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{apiHandler}from\"../shared/utils\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export var Media=function Media(){var dispatch=useDispatch();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),hoveredIndex=_useState6[0],setHoveredIndex=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),location=_useState8[0],setLocation=_useState8[1];var navigate=useNavigate();var _useSelector=useSelector(function(state){return state.navbar;}),isClickMedia=_useSelector.isClickMedia;var handleLocation=function handleLocation(event){setLocation(event.target.value);};var downloadImage=function downloadImage(url,title){var link=document.createElement(\"a\");link.href=url;link.setAttribute(\"download\",\"\".concat(title,\".jpg\"));document.body.appendChild(link);link.click();document.body.removeChild(link);};var fetchApi=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return apiHandler(\"\",\"\",\"MEDIA\",BACKEND_BASE_URL,BLOG_URL,FILTERED_BLOGS,location,\"\");case 2:response=_context.sent;setBlogs(response===null||response===void 0?void 0:response.data);case 4:case\"end\":return _context.stop();}},_callee);}));return function fetchApi(){return _ref.apply(this,arguments);};}();useEffect(function(){dispatch(setOption(\"MEDIA\"));},[dispatch]);useEffect(function(){if(location&&location.trim())navigate(\"\".concat(MEDIA,\"/\").concat(location));else navigate(MEDIA);fetchApi();},[location]);useEffect(function(){setLocation(\"\");},[isClickMedia]);useEffect(function(){var timer=setTimeout(function(){setLoading(false);},2000);return function(){clearTimeout(timer);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"media\",children:[/*#__PURE__*/_jsx(Navbar,{}),blogs.length!==0&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-media\",children:/*#__PURE__*/_jsx(Dropdown,{handleLocation:handleLocation,location:location})}),/*#__PURE__*/_jsxs(\"div\",{className:\"outer-box-media\",children:[blogs.length!==0&&blogs.map(function(element,idx){return/*#__PURE__*/_jsxs(\"div\",{className:\"card-media\",onMouseEnter:function onMouseEnter(){return setHoveredIndex(idx);},onMouseLeave:function onMouseLeave(){return setHoveredIndex(null);},children:[/*#__PURE__*/_jsx(\"img\",{src:\"data:image/png;base64,\".concat(element.media),alt:\"Media\"}),hoveredIndex===idx&&/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return downloadImage(\"data:image/png;base64,\".concat(element.media),element.title);},className:\"download-button\",children:\"\\u2B07\"})]},idx);}),/*#__PURE__*/_jsx(\"div\",{className:\"alert-showBlogs\",children:blogs.length===0&&/*#__PURE__*/_jsx(_Fragment,{children:loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(Alert,{msg:\"There is no media with your filter, please try another\"})})})]}),/*#__PURE__*/_jsx(Footer,{})]});};","map":{"version":3,"names":["useEffect","useState","Alert","Dropdown","Footer","Navbar","Spinner","BACKEND_BASE_URL","BLOG_URL","FILTERED_BLOGS","MEDIA","setOption","useDispatch","useSelector","useNavigate","apiHandler","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Media","dispatch","_useState","_useState2","_slicedToArray","blogs","setBlogs","_useState3","_useState4","loading","setLoading","_useState5","_useState6","hoveredIndex","setHoveredIndex","_useState7","_useState8","location","setLocation","navigate","_useSelector","state","navbar","isClickMedia","handleLocation","event","target","value","downloadImage","url","title","link","document","createElement","href","setAttribute","concat","body","appendChild","click","removeChild","fetchApi","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","response","wrap","_callee$","_context","prev","next","sent","data","stop","apply","arguments","trim","timer","setTimeout","clearTimeout","className","children","length","map","element","idx","onMouseEnter","onMouseLeave","src","media","alt","onClick","msg"],"sources":["/home/sameeramp/Videos/Inkspire-frontend/src/components/media/Component.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\nimport { Alert, Dropdown, Footer, Navbar, Spinner } from \"../shared/components\";\nimport \"./Component.scss\";\nimport {\n  BACKEND_BASE_URL,\n  BLOG_URL,\n  FILTERED_BLOGS,\n  MEDIA,\n} from \"../constants\";\nimport { setOption } from \"../../features/navbar/navbarSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useNavigate } from \"react-router-dom\";\nimport { apiHandler } from \"../shared/utils\";\n\nexport const Media = () => {\n  const dispatch = useDispatch();\n  const [blogs, setBlogs] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [hoveredIndex, setHoveredIndex] = useState(null);\n  const [location, setLocation] = useState(\"\");\n  const navigate = useNavigate();\n\n  const { isClickMedia } = useSelector((state) => state.navbar);\n\n  const handleLocation = (event) => {\n    setLocation(event.target.value);\n  };\n\n  const downloadImage = (url, title) => {\n    const link = document.createElement(\"a\");\n    link.href = url;\n    link.setAttribute(\"download\", `${title}.jpg`);\n    document.body.appendChild(link);\n    link.click();\n    document.body.removeChild(link);\n  };\n\n  const fetchApi = async () => {\n    const response = await apiHandler(\n      \"\",\n      \"\",\n      \"MEDIA\",\n      BACKEND_BASE_URL,\n      BLOG_URL,\n      FILTERED_BLOGS,\n      location,\n      \"\"\n    );\n    setBlogs(response?.data);\n  };\n\n  useEffect(() => {\n    dispatch(setOption(\"MEDIA\"));\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (location && location.trim()) navigate(`${MEDIA}/${location}`);\n    else navigate(MEDIA);\n    fetchApi();\n  }, [location]);\n\n  useEffect(() => {\n    setLocation(\"\");\n  }, [isClickMedia]);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setLoading(false);\n    }, 2000);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, []);\n\n  return (\n    <div className=\"media\">\n      <Navbar />\n      {blogs.length !== 0 && (\n        <div className=\"dropdown-media\">\n          <Dropdown handleLocation={handleLocation} location={location} />\n        </div>\n      )}\n      <div className=\"outer-box-media\">\n        {blogs.length !== 0 &&\n          blogs.map((element, idx) => {\n            return (\n              <div\n                className=\"card-media\"\n                key={idx}\n                onMouseEnter={() => setHoveredIndex(idx)}\n                onMouseLeave={() => setHoveredIndex(null)}\n              >\n                <img\n                  src={`data:image/png;base64,${element.media}`}\n                  alt=\"Media\"\n                />\n                {hoveredIndex === idx && (\n                  <button\n                    onClick={() =>\n                      downloadImage(\n                        `data:image/png;base64,${element.media}`,\n                        element.title\n                      )\n                    }\n                    className=\"download-button\"\n                  >\n                    &#x2B07;\n                  </button>\n                )}\n              </div>\n            );\n          })}\n        <div className=\"alert-showBlogs\">\n          {blogs.length === 0 && (\n            <>\n              {loading ? (\n                <Spinner />\n              ) : (\n                <Alert msg=\"There is no media with your filter, please try another\" />\n              )}\n            </>\n          )}\n        </div>\n      </div>\n      <Footer />\n    </div>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}